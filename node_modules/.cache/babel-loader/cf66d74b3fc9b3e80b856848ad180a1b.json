{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ighil\\\\Documents\\\\ReactProyects\\\\fdfdf\\\\jobinterviewme\\\\src\\\\views\\\\Error\\\\VerificarCorreo.jsx\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from \"@material-ui/core\";\nimport styles from \"../../assets/jss/material-kit-react/views/profilePage.js\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Header from \"components/Header/Header\";\nimport HeaderLinks from \"components/Header/HeaderLinks\";\nimport Parallax from \"components/Parallax/Parallax\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as authAction from \"../../store/actions/authAction\";\nimport classNames from \"classnames\";\nimport './Verificar.scss';\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig.js\";\nvar useStyles = makeStyles(styles);\n\nvar VerificarCorreo = function VerificarCorreo(props) {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tokenDes = _useState2[0],\n      setTokenDes = _useState2[1];\n\n  var token = {\n    token: props.location.search.split(\"?\")[1]\n  };\n  var URL = \"/verificar-token\";\n  var rol = {\n    rol: 1\n  };\n  var UsuarioURL = \"/usuarios/\";\n  useEffect(function () {\n    TokenVerified();\n  }, []);\n\n  function Login() {\n    return _Login.apply(this, arguments);\n  }\n\n  function _Login() {\n    _Login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var usuario;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                usuario = {\n                  idusuario: tokenDes.data_id,\n                  nombre: tokenDes.data.nombre,\n                  apellidos: tokenDes.data.apellidos,\n                  email: tokenDes.data.correo,\n                  rol: 1,\n                  login: true,\n                  token: tokenDes.token\n                };\n                console.log(usuario);\n                props.setUsuarioValues(usuario); //history.push(\"/area-cliente\")\n              } catch (e) {\n                console.log(e);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _Login.apply(this, arguments);\n  }\n\n  function TokenVerified() {\n    return _TokenVerified.apply(this, arguments);\n  }\n\n  function _TokenVerified() {\n    _TokenVerified = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var respuesta1;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return AxiosConexionConfig.post(URL, JSON.stringify(token));\n\n            case 3:\n              respuesta1 = _context2.sent;\n              console.log(respuesta1);\n              setTokenDes(respuesta1);\n\n              if (!respuesta1) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 9;\n              return AxiosConexionConfig.patch(UsuarioURL + respuesta1.data._id, JSON.stringify(rol));\n\n            case 9:\n              Login();\n\n            case 10:\n              _context2.next = 15;\n              break;\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 12]]);\n    }));\n    return _TokenVerified.apply(this, arguments);\n  }\n\n  var mensaje = function mensaje() {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    fixed: true,\n    color: \"white\",\n    brand: \"\",\n    rightLinks: /*#__PURE__*/React.createElement(HeaderLinks, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Parallax, {\n    small: true,\n    color: \"headerGreen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" headerNameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"flex-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.title + \" nameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"Verificaci\\xF3n del correo\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classes.main, classes.mainRaised) + \" verificadoDiv\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"verificado\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 10\n    }\n  }, \"hi\")));\n};\n\n_s(VerificarCorreo, \"HYTIjtxrrwlO/n64sI7Lz6jpvSs=\", false, function () {\n  return [useStyles];\n});\n\n_c = VerificarCorreo;\n\nvar mapStateToProps = function mapStateToProps(rootReducer) {\n  return {\n    global: rootReducer.auth\n  };\n};\n\nexport default connect(mapStateToProps, authAction)(VerificarCorreo);\n\nvar _c;\n\n$RefreshReg$(_c, \"VerificarCorreo\");","map":{"version":3,"sources":["C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/src/views/Error/VerificarCorreo.jsx"],"names":["makeStyles","styles","GridContainer","GridItem","Header","HeaderLinks","Parallax","React","useEffect","useState","connect","authAction","classNames","AxiosConexionConfig","useStyles","VerificarCorreo","props","classes","tokenDes","setTokenDes","token","location","search","split","URL","rol","UsuarioURL","TokenVerified","Login","usuario","idusuario","data_id","nombre","data","apellidos","email","correo","login","console","log","setUsuarioValues","e","post","JSON","stringify","respuesta1","patch","_id","mensaje","container","title","main","mainRaised","mapStateToProps","rootReducer","global","auth"],"mappings":";;;;;;;;AAAA,SAASA,UAAT,QAA2B,mBAA3B;AACA,OAAOC,MAAP,MAAmB,0DAAnB;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,UAAZ,MAA4B,gCAA5B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,kBAAP;AACA,OAAOC,mBAAP,MAAgC,iCAAhC;AAIA,IAAMC,SAAS,GAAGd,UAAU,CAACC,MAAD,CAA5B;;AAEA,IAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA;;AAC/B,MAAMC,OAAO,GAAGH,SAAS,EAAzB;;AAD+B,kBAECL,QAAQ,CAAC,EAAD,CAFT;AAAA;AAAA,MAExBS,QAFwB;AAAA,MAEdC,WAFc;;AAI/B,MAAMC,KAAK,GAAG;AACVA,IAAAA,KAAK,EAAEJ,KAAK,CAACK,QAAN,CAAeC,MAAf,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC;AADG,GAAd;AAGA,MAAMC,GAAG,GAAE,kBAAX;AACA,MAAMC,GAAG,GAAG;AACRA,IAAAA,GAAG,EAAE;AADG,GAAZ;AAGA,MAAMC,UAAU,GAAG,YAAnB;AAEAlB,EAAAA,SAAS,CAAC,YAAM;AACZmB,IAAAA,aAAa;AAChB,GAFQ,EAEN,EAFM,CAAT;;AAb+B,WAiBhBC,KAjBgB;AAAA;AAAA;;AAAA;AAAA,sEAiB/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,kBAAI;AACIC,gBAAAA,OADJ,GACc;AACZC,kBAAAA,SAAS,EAAEZ,QAAQ,CAACa,OADR;AAEZC,kBAAAA,MAAM,EAAEd,QAAQ,CAACe,IAAT,CAAcD,MAFV;AAGZE,kBAAAA,SAAS,EAAEhB,QAAQ,CAACe,IAAT,CAAcC,SAHb;AAIZC,kBAAAA,KAAK,EAAEjB,QAAQ,CAACe,IAAT,CAAcG,MAJT;AAKZX,kBAAAA,GAAG,EAAE,CALO;AAMZY,kBAAAA,KAAK,EAAE,IANK;AAOZjB,kBAAAA,KAAK,EAAEF,QAAQ,CAACE;AAPJ,iBADd;AAUAkB,gBAAAA,OAAO,CAACC,GAAR,CAAYV,OAAZ;AACEb,gBAAAA,KAAK,CAACwB,gBAAN,CAAuBX,OAAvB,EAXF,CAYE;AAEL,eAdD,CAcC,OAAOY,CAAP,EAAU;AACTH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,CAAZ;AACD;;AAjBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjB+B;AAAA;AAAA;;AAAA,WAsChBd,aAtCgB;AAAA;AAAA;;AAAA;AAAA,8EAsC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAG+Bd,mBAAmB,CAAC6B,IAApB,CAAyBlB,GAAzB,EAA6BmB,IAAI,CAACC,SAAL,CAAexB,KAAf,CAA7B,CAH/B;;AAAA;AAGYyB,cAAAA,UAHZ;AAIOP,cAAAA,OAAO,CAACC,GAAR,CAAYM,UAAZ;AACA1B,cAAAA,WAAW,CAAC0B,UAAD,CAAX;;AALP,mBAMUA,UANV;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAOchC,mBAAmB,CAACiC,KAApB,CAA0BpB,UAAU,GAACmB,UAAU,CAACZ,IAAX,CAAgBc,GAArD,EAAyDJ,IAAI,CAACC,SAAL,CAAenB,GAAf,CAAzD,CAPd;;AAAA;AAQQG,cAAAA,KAAK;;AARb;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYMU,cAAAA,OAAO,CAACC,GAAR;;AAZN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAtC+B;AAAA;AAAA;;AAsD/B,MAAMS,OAAO,GAAG,SAAVA,OAAU,GAAM,CAErB,CAFD;;AAIJ,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,KAAK,EAAC,OAFR;AAGE,IAAA,KAAK,EAAC,EAHR;AAIE,IAAA,UAAU,eAAE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,MAAf;AAAgB,IAAA,KAAK,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAE/B,OAAO,CAACgC,SAAR,GAAoB,kBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAE,EAAd;AAAkB,IAAA,EAAE,EAAE,EAAtB;AAA0B,IAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAEhC,OAAO,CAACiC,KAAR,GAAgB,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,CAFF,CADF,CAFF,CARF,eAsBE;AAAK,IAAA,SAAS,EAAEtC,UAAU,CAACK,OAAO,CAACkC,IAAT,EAAelC,OAAO,CAACmC,UAAvB,CAAV,GAA8C,gBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CAtBF,CADJ;AA6BC,CAvFD;;GAAMrC,e;UACcD,S;;;KADdC,e;;AAwFN,IAAMsC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,WAAD,EAAiB;AACvC,SAAO;AAAEC,IAAAA,MAAM,EAAED,WAAW,CAACE;AAAtB,GAAP;AACD,CAFD;;AAIA,eAAe9C,OAAO,CAAC2C,eAAD,EAAkB1C,UAAlB,CAAP,CAAqCI,eAArC,CAAf","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\r\nimport styles from \"../../assets/jss/material-kit-react/views/profilePage.js\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Header from \"components/Header/Header\";\r\nimport HeaderLinks from \"components/Header/HeaderLinks\";\r\nimport Parallax from \"components/Parallax/Parallax\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as authAction from \"../../store/actions/authAction\"\r\nimport classNames from \"classnames\";\r\nimport './Verificar.scss';\r\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig.js\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst VerificarCorreo = (props) => {\r\n    const classes = useStyles();\r\n    const [tokenDes, setTokenDes] = useState([]);\r\n\r\n    const token = {\r\n        token: props.location.search.split(\"?\")[1]\r\n    }\r\n    const URL= \"/verificar-token\"\r\n    const rol = {\r\n        rol: 1\r\n    }\r\n    const UsuarioURL = \"/usuarios/\"\r\n\r\n    useEffect(() => {\r\n        TokenVerified()\r\n    }, [])\r\n\r\n    async function Login() {\r\n        try {         \r\n            let usuario = {\r\n              idusuario: tokenDes.data_id,\r\n              nombre: tokenDes.data.nombre,\r\n              apellidos: tokenDes.data.apellidos,\r\n              email: tokenDes.data.correo,\r\n              rol: 1,\r\n              login: true,\r\n              token: tokenDes.token\r\n            }    \r\n            console.log(usuario)\r\n              props.setUsuarioValues(usuario); \r\n              //history.push(\"/area-cliente\")\r\n\r\n        }catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n    \r\n\r\n    async function TokenVerified() {\r\n        \r\n        try {\r\n          const respuesta1 = await AxiosConexionConfig.post(URL,JSON.stringify(token));\r\n           console.log(respuesta1);\r\n           setTokenDes(respuesta1);\r\n           if(respuesta1){\r\n            await AxiosConexionConfig.patch(UsuarioURL+respuesta1.data._id,JSON.stringify(rol));\r\n            Login()\r\n        }\r\n\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n    }\r\n\r\n    const mensaje = () => {\r\n\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n      <Header\r\n        fixed\r\n        color=\"white\"\r\n        brand=\"\"\r\n        rightLinks={<HeaderLinks />}\r\n      />\r\n\r\n      <Parallax small color=\"headerGreen\" >\r\n\r\n        <div className={classes.container + \" headerNameTitle\"}>\r\n          <GridContainer justify=\"flex-end\">\r\n\r\n            <GridItem xs={12} sm={12} md={6}>\r\n              <h3 className={classes.title + \" nameTitle\"}>Verificación del correo</h3>\r\n            </GridItem>\r\n\r\n\r\n          </GridContainer>\r\n        </div>\r\n      </Parallax>\r\n\r\n      <div className={classNames(classes.main, classes.mainRaised)+ \" verificadoDiv\"}>\r\n         <h6 className=\"verificado\">hi</h6>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (rootReducer) => {\r\n  return { global: rootReducer.auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, authAction)(VerificarCorreo);\r\n\r\n"]},"metadata":{},"sourceType":"module"}