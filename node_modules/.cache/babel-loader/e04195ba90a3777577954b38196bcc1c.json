{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ighil\\\\Documents\\\\ReactProyects\\\\JobInterViewMe\\\\src\\\\views\\\\LoginPage\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\"; //styles\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport './LoginPage.style.scss';\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\"; //componentes\n\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Texto from '../../components/LogTextCards/Texto.component.jsx';\nimport LogUpCard from \"../../components/LogTextCards/LogUpCard.component\"; //redux\n\nimport * as authAction from \"../../store/actions/authAction\";\nimport { connect } from \"react-redux\";\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig\";\nimport { urlUsuarios } from \"configuracion/constantes\";\nimport { linkperfilpor } from \"configuracion/constantes\";\nimport { useHistory } from \"react-router\";\nvar useStyles = makeStyles(styles);\n\nfunction LoginPage(props) {\n  _s();\n\n  var history = useHistory(); //console.log(props)\n\n  var _React$useState = React.useState(\"cardHidden\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cardAnimaton = _React$useState2[0],\n      setCardAnimation = _React$useState2[1];\n\n  setTimeout(function () {\n    setCardAnimation(\"\");\n  }, 700);\n  var classes = useStyles();\n  var rest = Object.assign({}, props);\n  useEffect(function () {\n    console.log(props);\n\n    if (props.global.email !== \"\") {\n      if (props.global.usuario !== null) {\n        history.push(linkperfilpor + \"?\" + props.global.usuario.idusuario);\n      } else {\n        var usuario = {\n          nombre: props.global.nombre,\n          apellido: props.global.apellidos,\n          email: props.global.email\n        };\n        props.setUsuario(usuario);\n        props.goToStep(2);\n      } //BuscarUsuarioPorEmail(props.global.email)\n\n    }\n  }, [props.global.usuario, props.global.email]);\n\n  function BuscarUsuarioPorEmail(_x) {\n    return _BuscarUsuarioPorEmail.apply(this, arguments);\n  }\n\n  function _BuscarUsuarioPorEmail() {\n    _BuscarUsuarioPorEmail = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(usuarioEmail) {\n      var condisiones, url, respuesta;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              condisiones = JSON.stringify({\n                where: {\n                  correo: {\n                    like: '%' + usuarioEmail + '%'\n                  }\n                }\n              });\n              url = urlUsuarios + \"?filter=\" + encodeURIComponent(condisiones);\n              _context.prev = 2;\n              _context.next = 5;\n              return AxiosConexionConfig.get(url);\n\n            case 5:\n              respuesta = _context.sent;\n              console.log(respuesta.data[0].idusuario);\n\n              if (respuesta.data.length > 0) {//history.push(linkperfilpor + \"?\" + idusuario)\n                //props.goToStep(2)\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n    return _BuscarUsuarioPorEmail.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pageHeader,\n    style: {\n      backgroundColor: \"white\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" contenedorLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Texto, {\n    hidden: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(LogUpCard, {\n    animation: cardAnimaton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }))))));\n}\n\n_s(LoginPage, \"qYY4/BdSVO6LExYjDvPVbbMXvMg=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = LoginPage;\n\nvar mapStateToProps = function mapStateToProps(rootReducer) {\n  return {\n    global: rootReducer.auth\n  };\n};\n\nexport default connect(mapStateToProps, authAction)(LoginPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/src/views/LoginPage/LoginPage.js"],"names":["React","useEffect","makeStyles","styles","GridContainer","GridItem","Texto","LogUpCard","authAction","connect","AxiosConexionConfig","urlUsuarios","linkperfilpor","useHistory","useStyles","LoginPage","props","history","useState","cardAnimaton","setCardAnimation","setTimeout","classes","rest","console","log","global","email","usuario","push","idusuario","nombre","apellido","apellidos","setUsuario","goToStep","BuscarUsuarioPorEmail","usuarioEmail","condisiones","JSON","stringify","where","correo","like","url","encodeURIComponent","get","respuesta","data","length","pageHeader","backgroundColor","backgroundSize","backgroundPosition","container","mapStateToProps","rootReducer","auth"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\n//styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport './LoginPage.style.scss';\r\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\r\n\r\n//componentes\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Texto from '../../components/LogTextCards/Texto.component.jsx';\r\nimport LogUpCard from \"../../components/LogTextCards/LogUpCard.component\";\r\n\r\n//redux\r\nimport * as authAction from \"../../store/actions/authAction\"\r\nimport { connect } from \"react-redux\";\r\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig\";\r\nimport { urlUsuarios } from \"configuracion/constantes\";\r\nimport { linkperfilpor } from \"configuracion/constantes\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nfunction LoginPage(props) {\r\n  const history = useHistory()\r\n  //console.log(props)\r\n  const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\r\n\r\n  setTimeout(function () {\r\n    setCardAnimation(\"\");\r\n  }, 700);\r\n\r\n  const classes = useStyles();\r\n  const { ...rest } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(props)\r\n    if (props.global.email !== \"\") {\r\n      if (props.global.usuario !== null) {\r\n        history.push(linkperfilpor + \"?\" + props.global.usuario.idusuario)\r\n      } else {\r\n        const usuario = {\r\n          nombre: props.global.nombre,\r\n          apellido: props.global.apellidos,\r\n          email: props.global.email\r\n        }\r\n        props.setUsuario(usuario)\r\n        props.goToStep(2)\r\n      }\r\n      //BuscarUsuarioPorEmail(props.global.email)\r\n\r\n    }\r\n  }, [props.global.usuario, props.global.email]);\r\n\r\n  async function BuscarUsuarioPorEmail(usuarioEmail) {\r\n    const condisiones = JSON.stringify({ where: { correo: { like: '%' + usuarioEmail + '%' } } })\r\n    const url = urlUsuarios + \"?filter=\" + encodeURIComponent(condisiones);\r\n    try {\r\n      const respuesta = await AxiosConexionConfig.get(url);\r\n      console.log(respuesta.data[0].idusuario)\r\n      if (respuesta.data.length > 0) {\r\n\r\n        //history.push(linkperfilpor + \"?\" + idusuario)\r\n        //props.goToStep(2)\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={classes.pageHeader}\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"top center\"\r\n        }}\r\n      >\r\n        <div className={classes.container + \" contenedorLogin\"}>\r\n          <GridContainer justify=\"center\">\r\n            <GridItem xs={12} sm={12} md={5}>\r\n              <Texto hidden={false} />\r\n            </GridItem>\r\n\r\n            <GridItem xs={12} sm={12} md={5}>\r\n              <LogUpCard animation={cardAnimaton} />\r\n            </GridItem>\r\n          </GridContainer>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (rootReducer) => {\r\n  return { global: rootReducer.auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, authAction)(LoginPage);"]},"metadata":{},"sourceType":"module"}