{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ighil\\\\Documents\\\\ReactProyects\\\\JobInterViewMe\\\\src\\\\views\\\\AreaPersonal\\\\AreaPersonalClient.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // nodejs library that concatenates classes\n\nimport classNames from \"classnames\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // @material-ui/icons\n// core components\n\nimport Header from \"components/Header/Header.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Parallax from \"components/Parallax/Parallax.js\";\nimport { Tooltip } from \"antd\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport styles from \"assets/jss/material-kit-react/views/profilePage.js\";\nimport '../ProfilePage/ProfilePage.styles.scss';\nimport './AreaPersonal.style.scss'; //conexion BBDD\n\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig\";\nimport * as authAction from \"../../store/actions/authAction\";\nimport { connect } from \"react-redux\";\nimport CardCitasCliente from \"components/CardCitas/CardCitasCliente.component\";\nimport { Link } from \"react-router-dom\";\nimport { Redirect, useHistory } from \"react-router\";\nimport { linkSearchPage } from \"configuracion/constantes\";\nvar useStyles = makeStyles(styles);\n\nvar AreaPersonalCiente = function AreaPersonalCiente(props) {\n  _s();\n\n  var _props$global, _props$global2, _props$global3, _props$global4, _props$global5;\n\n  var classes = useStyles();\n  var rest = Object.assign({}, props);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      usuario = _useState2[0],\n      setUsuario = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      profesional = _useState4[0],\n      setProfesional = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      citas = _useState6[0],\n      setCitas = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      reload = _useState8[0],\n      _setReload = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      id = _useState10[0],\n      setId = _useState10[1];\n\n  var fechaHoy = new Date();\n  var history = useHistory();\n  var is1 = \"\";\n  /* if(props.global.usuario!==null){\r\n     is1 = props.global.usuario.idusuario;\r\n   }*/\n\n  useEffect(function () {\n    RefreshUsuario();\n  }, [props.global.email]);\n  useEffect(function () {// setCitas(null)    \n  }, [props.global.usuario]);\n\n  function RefreshUsuario() {\n    return _RefreshUsuario.apply(this, arguments);\n  }\n\n  function _RefreshUsuario() {\n    _RefreshUsuario = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var whereCorreo, UsuarioURL, _Usuario$data$, _Usuario$data$2, Usuario;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              whereCorreo = {\n                where: {\n                  correo: props.global.email\n                },\n                include: [{\n                  relation: \"UsuarioCitas\",\n                  scope: {\n                    include: [{\n                      relation: \"CitaProfesional\"\n                    }]\n                  }\n                }]\n              };\n              UsuarioURL = \"/usuarios?filter=\";\n              _context.prev = 2;\n              _context.next = 5;\n              return AxiosConexionConfig.get(UsuarioURL + encodeURIComponent(JSON.stringify(whereCorreo)));\n\n            case 5:\n              Usuario = _context.sent;\n              console.log(Usuario.data[0].UsuarioCitas);\n\n              if (((_Usuario$data$ = Usuario.data[0]) === null || _Usuario$data$ === void 0 ? void 0 : _Usuario$data$.UsuarioCitas) !== null && ((_Usuario$data$2 = Usuario.data[0]) === null || _Usuario$data$2 === void 0 ? void 0 : _Usuario$data$2.UsuarioCitas) !== undefined) {\n                console.log(Usuario.data);\n                setCitas(Usuario.data[0].UsuarioCitas);\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n    return _RefreshUsuario.apply(this, arguments);\n  }\n\n  var goToBusqueda = function goToBusqueda() {\n    history.push(linkSearchPage);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, Object.assign({\n    color: \"white\",\n    brand: \"\",\n    rightLinks: /*#__PURE__*/React.createElement(HeaderLinks, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }),\n    fixed: true,\n    changeColorOnScroll: {\n      height: 200,\n      color: \"white\"\n    }\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Parallax, {\n    id: \"sombra\",\n    small: true,\n    filter: true,\n    color: \"headerGreen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" headerNameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.title + \" nameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, usuario !== null ? usuario.nombre + \" \" + usuario.apellidos + \" \" : \"\", ((_props$global = props.global) === null || _props$global === void 0 ? void 0 : _props$global.nombre) + \" \" + ((_props$global2 = props.global) === null || _props$global2 === void 0 ? void 0 : _props$global2.apellidos))), /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedorBlanco \" + classNames(classes.main, classes.mainRaised),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, console.log(props.global.usuario), props.global.usuario !== null ? /*#__PURE__*/React.createElement(GridContainer, {\n    className: \"este\",\n    justify: \"flex-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"DivIconR\",\n    to: \"/area-profesional\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Mis citas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pasarCitas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }\n  }, \"Mis citas\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"iconPasarCitas pi pi-chevron-right p-mr-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  })))))) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(GridContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" contenedorGris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 20\n    }\n  }, \"Pr\\xF3ximas citas\"), /*#__PURE__*/React.createElement(Button, {\n    size: \"lg\",\n    href: \"\",\n    target: \"_self\",\n    className: \"buttonN\",\n    rel: \"noopener noreferrer\",\n    onClick: function onClick() {\n      return goToBusqueda();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, \"Buscar mi preparador\"), citas !== null ? citas.map(function (cita, index) {\n    var fechaA = cita === null || cita === void 0 ? void 0 : cita.fecha.split(\"-\"); //const horaA = cita?.hora.split(\":\");\n\n    var fechaCita = new Date(fechaCita\n    /*,horaA[0],horaA[1]*/\n    );\n\n    if (fechaCita >= fechaHoy && cita.confirmada != \"decline\") {\n      return /*#__PURE__*/React.createElement(CardCitasCliente, {\n        cita: cita,\n        setReload: function setReload(value) {\n          return _setReload(value);\n        },\n        tipo: null,\n        confirmada: cita.confirmada,\n        lugar: \"activa\",\n        fecha: new Date(cita.fecha),\n        nombre: cita.CitaProfesional.nombreperfil,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null))), /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" contenedorGris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 20\n    }\n  }, \"Historial\"), citas !== null ? citas.map(function (cita, index) {\n    var fechaA = cita === null || cita === void 0 ? void 0 : cita.fecha.split(\"-\"); //const horaA = cita?.hora.split(\":\");\n\n    var fechaCita = new Date(fechaCita\n    /*fechaA[0],fechaA[1]-1,fechaA[2],horaA[0],horaA[1]*/\n    );\n\n    if (fechaCita < fechaHoy && (cita === null || cita === void 0 ? void 0 : cita.confirmada) === \"true\") {\n      return /*#__PURE__*/React.createElement(CardCitasCliente, {\n        cita: cita,\n        setReload: function setReload(value) {\n          return _setReload(value);\n        },\n        tipo: \"deshabilitado\",\n        confirmada: cita.confirmada,\n        lugar: \"activa\",\n        fecha: new Date(cita.fecha),\n        nombre: cita.CitaProfesional.nombreperfil,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null))), /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" contenedorGris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, \"Informaci\\xF3n de contacto\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, (_props$global3 = props.global) === null || _props$global3 === void 0 ? void 0 : _props$global3.nombre)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 19\n    }\n  }, (_props$global4 = props.global) === null || _props$global4 === void 0 ? void 0 : _props$global4.apellidos)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  }, (_props$global5 = props.global) === null || _props$global5 === void 0 ? void 0 : _props$global5.email)))))))));\n};\n\n_s(AreaPersonalCiente, \"czE/sYnQ0bzg/KW37mNiZ+aYcDk=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = AreaPersonalCiente;\n\nvar mapStateToProps = function mapStateToProps(rootReducer) {\n  return {\n    global: rootReducer.auth\n  };\n};\n\nexport default connect(mapStateToProps, authAction)(AreaPersonalCiente);\n\nvar _c;\n\n$RefreshReg$(_c, \"AreaPersonalCiente\");","map":{"version":3,"sources":["C:/Users/ighil/Documents/ReactProyects/JobInterViewMe/src/views/AreaPersonal/AreaPersonalClient.component.jsx"],"names":["React","useEffect","useState","classNames","makeStyles","Header","GridContainer","GridItem","HeaderLinks","Parallax","Tooltip","Button","styles","AxiosConexionConfig","authAction","connect","CardCitasCliente","Link","Redirect","useHistory","linkSearchPage","useStyles","AreaPersonalCiente","props","classes","rest","usuario","setUsuario","profesional","setProfesional","citas","setCitas","reload","setReload","id","setId","fechaHoy","Date","history","is1","RefreshUsuario","global","email","whereCorreo","where","correo","include","relation","scope","UsuarioURL","get","encodeURIComponent","JSON","stringify","Usuario","console","log","data","UsuarioCitas","undefined","goToBusqueda","push","height","color","container","title","nombre","apellidos","main","mainRaised","map","cita","index","fechaA","fecha","split","fechaCita","confirmada","value","CitaProfesional","nombreperfil","mapStateToProps","rootReducer","auth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n// core components\r\nimport Header from \"components/Header/Header.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\r\nimport Parallax from \"components/Parallax/Parallax.js\";\r\nimport { Tooltip } from \"antd\";\r\n\r\nimport Button from \"components/CustomButtons/Button.js\";\r\n\r\n\r\n\r\n\r\nimport styles from \"assets/jss/material-kit-react/views/profilePage.js\";\r\nimport '../ProfilePage/ProfilePage.styles.scss'\r\n\r\nimport './AreaPersonal.style.scss'\r\n\r\n//conexion BBDD\r\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig\";\r\n\r\n\r\nimport * as authAction from \"../../store/actions/authAction\"\r\nimport { connect } from \"react-redux\";\r\nimport CardCitasCliente from \"components/CardCitas/CardCitasCliente.component\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { Redirect, useHistory } from \"react-router\";\r\n\r\n\r\nimport { linkSearchPage } from \"configuracion/constantes\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst AreaPersonalCiente=(props)=> {\r\n  const classes = useStyles();\r\n  const { ...rest } = props;\r\n\r\n  const [usuario, setUsuario] = useState(null)\r\n  const [profesional, setProfesional] = useState(null)\r\n  const [citas, setCitas] = useState(null)\r\n  const [reload,setReload] = useState(true);\r\n  const [id, setId] = useState(false);\r\n  const fechaHoy = new Date();\r\n  const history=useHistory()\r\n\r\n  let is1 = \"\";\r\n\r\n   /* if(props.global.usuario!==null){\r\n      is1 = props.global.usuario.idusuario;\r\n    }*/\r\n\r\n    useEffect(() => {\r\n     \r\n        RefreshUsuario()\r\n            \r\n    }, [props.global.email]);\r\n\r\n    useEffect(() => {\r\n     // setCitas(null)    \r\n    }, [props.global.usuario]);  \r\n\r\n  async function RefreshUsuario() {    \r\n\r\n    const whereCorreo = {\r\n      where:{\r\n        correo: props.global.email       \r\n      },  \r\n      include: [{\r\n        relation: \"UsuarioCitas\",\r\n        scope:{\r\n          include: [{\r\n            relation:\"CitaProfesional\"\r\n            }]}\r\n        }]\r\n      }      \r\n\r\n    const UsuarioURL = \"/usuarios?filter=\"\r\n  \r\n    try {\r\n      const Usuario = await AxiosConexionConfig.get(UsuarioURL + encodeURIComponent(JSON.stringify(whereCorreo)));\r\n      console.log(Usuario.data[0].UsuarioCitas);\r\n  \r\n      if(Usuario.data[0]?.UsuarioCitas!==null && Usuario.data[0]?.UsuarioCitas!==undefined) {\r\n        console.log(Usuario.data);\r\n        setCitas(Usuario.data[0].UsuarioCitas);\r\n      }\r\n\r\n       \r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  const goToBusqueda=()=>{\r\n    history.push(linkSearchPage)\r\n    \r\n  }\r\n        \r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        color=\"white\"\r\n        brand=\"\"\r\n        rightLinks={<HeaderLinks />}\r\n        fixed\r\n        changeColorOnScroll={{\r\n          height: 200,\r\n          color: \"white\"\r\n        }}\r\n        {...rest}\r\n      />\r\n\r\n      <Parallax id=\"sombra\" small filter color=\"headerGreen\" >\r\n        <div className={classes.container + \" headerNameTitle\"}>\r\n\r\n\r\n\r\n\r\n          <GridContainer >\r\n            \r\n              <GridItem xs={12} sm={12} md={12}>\r\n                <h3 className={classes.title + \" nameTitle\"}>{usuario !== null ? usuario.nombre +\" \"+ usuario.apellidos +\" \": \"\"}\r\n                \r\n                  {props.global?.nombre + \" \" + props.global?.apellidos} \r\n                </h3>\r\n              </GridItem>\r\n\r\n            <GridItem xs={12} sm={12} md={2}>\r\n            </GridItem>\r\n\r\n          </GridContainer>\r\n        </div>\r\n      </Parallax>\r\n\r\n      \r\n\r\n      <div className={\"contenedorBlanco \" + classNames(classes.main, classes.mainRaised)}>\r\n        <div>\r\n          <div className={classes.container}>\r\n{console.log(props.global.usuario)}\r\n            {(props.global.usuario!==null)?(\r\n              <GridContainer className=\"este\" justify=\"flex-end\">\r\n              <Link className=\"DivIconR\" to={\"/area-profesional\"}>\r\n\r\n              <GridItem xs={12} sm={12} md={12}>\r\n                  <Tooltip title=\"Mis citas\">\r\n                    <div className=\"pasarCitas\" >                  \r\n                      <h4>Mis citas</h4>\r\n                      <i className=\"iconPasarCitas pi pi-chevron-right p-mr-1\"></i>\r\n                    </div>\r\n                  </Tooltip>\r\n              </GridItem>\r\n              </Link>\r\n              </GridContainer>\r\n            ):(\r\n              <></>\r\n            )}\r\n          \r\n            \r\n            <GridContainer>\r\n              <GridItem xs={12} sm={12} md={4}>\r\n                <div className={classes.container + \" contenedorGris\"}>\r\n                   <h4>Próximas citas</h4>\r\n\r\n                    <Button\r\n                      size=\"lg\"\r\n                      href=\"\"\r\n                      target=\"_self\"\r\n                      className=\"buttonN\"\r\n                      rel=\"noopener noreferrer\" \r\n                      onClick={()=>goToBusqueda()}\r\n                    >Buscar mi preparador\r\n                    </Button>\r\n\r\n                   {citas !== null ?\r\n                      citas.map((cita, index) => {\r\n\r\n                        const fechaA = cita?.fecha.split(\"-\");\r\n                        //const horaA = cita?.hora.split(\":\");\r\n                        const fechaCita =new Date(fechaCita/*,horaA[0],horaA[1]*/);\r\n\r\n                        if(fechaCita >= fechaHoy&&cita.confirmada!=\"decline\"){\r\n                          return(\r\n                            <CardCitasCliente cita={cita} setReload={(value)=>setReload(value)} tipo={null} confirmada={cita.confirmada} lugar=\"activa\" fecha={new Date(cita.fecha)} nombre={cita.CitaProfesional.nombreperfil} ></CardCitasCliente>\r\n                          )\r\n                        }else{\r\n                          return (<></>);\r\n                        }\r\n                      }                  \r\n                      ) : <></>\r\n                    } \r\n\r\n                   \r\n                </div>               \r\n              </GridItem>\r\n\r\n              <GridItem xs={12} sm={12} md={4}>  \r\n              <div className={classes.container + \" contenedorGris\"}>\r\n                   <h4>Historial</h4> \r\n                   {citas !== null ?\r\n                      citas.map((cita, index) => {\r\n\r\n                        const fechaA = cita?.fecha.split(\"-\");\r\n                        //const horaA = cita?.hora.split(\":\");\r\n                        const fechaCita =new Date(fechaCita/*fechaA[0],fechaA[1]-1,fechaA[2],horaA[0],horaA[1]*/);\r\n\r\n                        if(fechaCita < fechaHoy&&cita?.confirmada===\"true\"){\r\n                          return(\r\n                            <CardCitasCliente cita={cita} setReload={(value)=>setReload(value)} tipo=\"deshabilitado\" confirmada={cita.confirmada} lugar=\"activa\" fecha={new Date(cita.fecha)} nombre={cita.CitaProfesional.nombreperfil} ></CardCitasCliente>\r\n                          )\r\n                        }else{\r\n                          return (<></>);\r\n                        }\r\n                      }                  \r\n                      ) : <></>\r\n                    } \r\n                   \r\n                </div>              \r\n                \r\n              </GridItem>\r\n\r\n              <GridItem xs={12} sm={12} md={4}>   \r\n                <div className={classes.container + \" contenedorGris\"}>\r\n                  <h4>Información de contacto</h4> \r\n                  <div>\r\n                  <h6>{props.global?.nombre}</h6>\r\n                  </div>\r\n                  <div>\r\n                  <h6>{props.global?.apellidos}</h6>  \r\n                  </div> \r\n                  <div> \r\n                    <h6>{props.global?.email}</h6>\r\n                  </div>             \r\n\r\n                </div>    \r\n              </GridItem>\r\n            </GridContainer>\r\n\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (rootReducer) => {\r\n  return { global: rootReducer.auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, authAction)(AreaPersonalCiente);\r\n\r\n"]},"metadata":{},"sourceType":"module"}