{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ighil\\\\Documents\\\\ReactProyects\\\\fdfdf\\\\jobinterviewme\\\\src\\\\views\\\\Error\\\\VerificarCorreo.jsx\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from \"@material-ui/core\";\nimport styles from \"../../assets/jss/material-kit-react/views/profilePage.js\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Header from \"components/Header/Header\";\nimport HeaderLinks from \"components/Header/HeaderLinks\";\nimport Parallax from \"components/Parallax/Parallax\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as authAction from \"../../store/actions/authAction\";\nimport classNames from \"classnames\";\nimport './Verificar.scss';\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig.js\";\nimport { useHistory } from \"react-router\";\nimport Cargando from \"components/Cargando/Cargando.component.jsx\";\nvar useStyles = makeStyles(styles);\n\nvar VerificarCorreo = function VerificarCorreo(props) {\n  _s();\n\n  var history = useHistory();\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tokenDes = _useState2[0],\n      setTokenDes = _useState2[1];\n\n  var token = {\n    token: props.location.search.split(\"?\")[1]\n  };\n  var URL = \"/verificar-token\";\n  var rol = {\n    rol: 1\n  };\n  var UsuarioURL = \"/usuarios/\";\n  useEffect(function () {\n    TokenVerified();\n  }, []);\n\n  function Login(_x) {\n    return _Login.apply(this, arguments);\n  }\n\n  function _Login() {\n    _Login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(respuesta1) {\n      var _respuesta1$data, _respuesta1$data2, _respuesta1$data3, _respuesta1$data4, usuario;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                usuario = {\n                  idusuario: respuesta1 === null || respuesta1 === void 0 ? void 0 : (_respuesta1$data = respuesta1.data) === null || _respuesta1$data === void 0 ? void 0 : _respuesta1$data._id,\n                  nombre: respuesta1 === null || respuesta1 === void 0 ? void 0 : (_respuesta1$data2 = respuesta1.data) === null || _respuesta1$data2 === void 0 ? void 0 : _respuesta1$data2.nombre,\n                  apellidos: respuesta1 === null || respuesta1 === void 0 ? void 0 : (_respuesta1$data3 = respuesta1.data) === null || _respuesta1$data3 === void 0 ? void 0 : _respuesta1$data3.apellidos,\n                  email: respuesta1 === null || respuesta1 === void 0 ? void 0 : (_respuesta1$data4 = respuesta1.data) === null || _respuesta1$data4 === void 0 ? void 0 : _respuesta1$data4.correo,\n                  rol: 1,\n                  login: true,\n                  token: token.token\n                };\n                console.log(usuario);\n                props.setUsuarioValues(usuario).then();\n              } catch (e) {\n                console.log(e);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _Login.apply(this, arguments);\n  }\n\n  function TokenVerified() {\n    return _TokenVerified.apply(this, arguments);\n  }\n\n  function _TokenVerified() {\n    _TokenVerified = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var respuesta1;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return AxiosConexionConfig.post(URL, JSON.stringify(token));\n\n            case 3:\n              respuesta1 = _context2.sent;\n              console.log(respuesta1);\n              setTokenDes(respuesta1);\n\n              if (!(respuesta1 !== null)) {\n                _context2.next = 11;\n                break;\n              }\n\n              console.log(\"diferente de null\");\n              _context2.next = 10;\n              return AxiosConexionConfig.patch(UsuarioURL + respuesta1.data._id, JSON.stringify(rol));\n\n            case 10:\n              Login(respuesta1);\n\n            case 11:\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 13]]);\n    }));\n    return _TokenVerified.apply(this, arguments);\n  }\n\n  var mensaje = function mensaje() {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    fixed: true,\n    color: \"white\",\n    brand: \"\",\n    rightLinks: /*#__PURE__*/React.createElement(HeaderLinks, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Parallax, {\n    small: true,\n    color: \"headerGreen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container + \" headerNameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"flex-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.title + \" nameTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Verificaci\\xF3n del correo\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classes.main, classes.mainRaised) + \" verificadoDiv\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"verificado\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 10\n    }\n  }, \"Verificando ...\"), Cargando));\n};\n\n_s(VerificarCorreo, \"l7Iqej99sPr2F8fVp3/icBh9RPk=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = VerificarCorreo;\n\nvar mapStateToProps = function mapStateToProps(rootReducer) {\n  return {\n    global: rootReducer.auth\n  };\n};\n\nexport default connect(mapStateToProps, authAction)(VerificarCorreo);\n\nvar _c;\n\n$RefreshReg$(_c, \"VerificarCorreo\");","map":{"version":3,"sources":["C:/Users/ighil/Documents/ReactProyects/fdfdf/jobinterviewme/src/views/Error/VerificarCorreo.jsx"],"names":["makeStyles","styles","GridContainer","GridItem","Header","HeaderLinks","Parallax","React","useEffect","useState","connect","authAction","classNames","AxiosConexionConfig","useHistory","Cargando","useStyles","VerificarCorreo","props","history","classes","tokenDes","setTokenDes","token","location","search","split","URL","rol","UsuarioURL","TokenVerified","Login","respuesta1","usuario","idusuario","data","_id","nombre","apellidos","email","correo","login","console","log","setUsuarioValues","then","e","post","JSON","stringify","patch","mensaje","container","title","main","mainRaised","mapStateToProps","rootReducer","global","auth"],"mappings":"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","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\r\nimport styles from \"../../assets/jss/material-kit-react/views/profilePage.js\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Header from \"components/Header/Header\";\r\nimport HeaderLinks from \"components/Header/HeaderLinks\";\r\nimport Parallax from \"components/Parallax/Parallax\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as authAction from \"../../store/actions/authAction\"\r\nimport classNames from \"classnames\";\r\nimport './Verificar.scss';\r\nimport AxiosConexionConfig from \"conexion/AxiosConexionConfig.js\";\r\nimport { useHistory } from \"react-router\";\r\nimport Cargando from \"components/Cargando/Cargando.component.jsx\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst VerificarCorreo = (props) => {\r\n\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const [tokenDes, setTokenDes] = useState([]);\r\n\r\n    const token = {\r\n        token: props.location.search.split(\"?\")[1]\r\n    }\r\n    const URL= \"/verificar-token\"\r\n    const rol = {\r\n        rol: 1\r\n    }\r\n    const UsuarioURL = \"/usuarios/\"\r\n\r\n    useEffect(() => {\r\n        TokenVerified()\r\n    }, [])\r\n\r\n    async function Login(respuesta1) {\r\n        try {         \r\n            let usuario = {\r\n              idusuario: respuesta1?.data?._id,\r\n              nombre: respuesta1?.data?.nombre,\r\n              apellidos: respuesta1?.data?.apellidos,\r\n              email: respuesta1?.data?.correo,\r\n              rol: 1,\r\n              login: true,\r\n              token: token.token\r\n            }    \r\n            console.log(usuario)\r\n              props.setUsuarioValues(usuario).then( \r\n                //history.push(\"/area-cliente\")\r\n              )\r\n\r\n        }catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n    \r\n\r\n    async function TokenVerified() {\r\n        \r\n        try {\r\n          const respuesta1 = await AxiosConexionConfig.post(URL,JSON.stringify(token));\r\n           console.log(respuesta1);\r\n           setTokenDes(respuesta1);\r\n           if(respuesta1!==null){\r\n               console.log(\"diferente de null\")\r\n            await AxiosConexionConfig.patch(UsuarioURL+respuesta1.data._id,JSON.stringify(rol));\r\n            Login(respuesta1);\r\n        }\r\n\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n    }\r\n\r\n    const mensaje = () => {\r\n\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n      <Header\r\n        fixed\r\n        color=\"white\"\r\n        brand=\"\"\r\n        rightLinks={<HeaderLinks />}\r\n      />\r\n\r\n      <Parallax small color=\"headerGreen\" >\r\n\r\n        <div className={classes.container + \" headerNameTitle\"}>\r\n          <GridContainer justify=\"flex-end\">\r\n\r\n            <GridItem xs={12} sm={12} md={6}>\r\n              <h3 className={classes.title + \" nameTitle\"}>Verificación del correo</h3>\r\n            </GridItem>\r\n\r\n\r\n          </GridContainer>\r\n        </div>\r\n      </Parallax>\r\n\r\n      <div className={classNames(classes.main, classes.mainRaised)+ \" verificadoDiv\"}>\r\n         <h6 className=\"verificado\">Verificando ...</h6>\r\n{Cargando}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (rootReducer) => {\r\n  return { global: rootReducer.auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, authAction)(VerificarCorreo);\r\n\r\n"]},"metadata":{},"sourceType":"module"}